{"version":3,"sources":["observatory/views/inspector.cljs"],"mappings":"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","names":["observatory.views.inspector/format-value","v","cljs.core/boolean?","cljs.core.pr_str","cljs.core/Keyword","cljs.core/vector?","cljs.core/count","cljs.core/map?","cljs.core/seq?","observatory.views.inspector/truncate","s","max-len","cljs.core.subs","observatory.views.inspector/inspectable?","p__12887","map__12888","cljs.core/--destructure-map","cljs.core.get","observatory.views.inspector/field-row","key","value","depth","on-expand","can-expand?","indent","cljs.core/name","p__12889","map__12890","observatory.views.inspector/map-fields","data","on-select","max-fields","entries","cljs.core.take","cljs.core/seq","remaining","iter__5480__auto__","s__12892","cljs.core/LazySeq","temp__5804__auto__","cljs.core/chunked-seq?","c__5478__auto__","size__5479__auto__","b__12894","cljs.core/chunk-buffer","i__12893","vec__12895","cljs.core/-nth","cljs.core.nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__12891","cljs.core/chunk-rest","vec__12899","cljs.core/first","cljs.core/cons","cljs.core/rest","k","G__12898","G__12902","js/observatory","js/observatory.views","js/observatory.views.inspector","js/observatory.views.inspector.inspect-object","method-table__5599__auto__","cljs.core.atom","prefer-table__5600__auto__","method-cache__5601__auto__","cached-hierarchy__5602__auto__","hierarchy__5603__auto__","fexpr__12903","cljs.core/MultiFn","cljs.core.symbol","observatory.views.inspector/inspect-object","selection","p__12904","map__12905","p__12906","map__12907","clojure.string/upper-case","p__12908","map__12909","p__12910","map__12911","s__12913","b__12915","i__12914","vec__12916","iter__12912","vec__12919","idx","item","cljs.core.map_indexed","cljs.core/vector","p__12922","map__12923","type","observatory.views.inspector/inspector-panel","cljs.core/deref","re_frame.core.subscribe","re-frame.core/dispatch","cljs.core/chunk-first"],"sourcesContent":["(ns observatory.views.inspector\n  \"SLIME-style inspector panel.\n\n   The inspector shows the currently selected object with:\n   - Summary header\n   - Expandable fields (click to drill deeper)\n   - Raw data view\n   - Actions (view in cache, track accesses, etc.)\n\n   Everything is data. Click any field to make it the new selection.\"\n  (:require [re-frame.core :as rf]\n            [observatory.state :as state]\n            [clojure.string :as str]))\n\n;; =============================================================================\n;; Formatting\n;; =============================================================================\n\n(defn format-value\n  \"Format a value for display based on its type.\"\n  [v]\n  (cond\n    (nil? v) [:span.nil \"nil\"]\n    (boolean? v) [:span.boolean (str v)]\n    (number? v) (if (> v 0xFFFF)\n                  [:span.hex (str \"0x\" (.toString v 16))]\n                  [:span.number (str v)])\n    (string? v) [:span.string (pr-str v)]\n    (keyword? v) [:span.keyword (str v)]\n    (vector? v) [:span.collection (str \"[\" (count v) \" items]\")]\n    (map? v) [:span.collection (str \"{\" (count v) \" keys}\")]\n    (seq? v) [:span.collection (str \"(\" (count v) \" items)\")]\n    :else [:span.unknown (pr-str v)]))\n\n(defn truncate\n  \"Truncate string to max length.\"\n  [s max-len]\n  (if (> (count s) max-len)\n    (str (subs s 0 (- max-len 3)) \"...\")\n    s))\n\n;; =============================================================================\n;; Field Rendering\n;; =============================================================================\n\n(defn inspectable?\n  \"Check if a value can be drilled into.\"\n  [v]\n  (or (map? v) (vector? v) (seq? v)))\n\n(defn field-row\n  \"A single field in the inspector.\"\n  [{:keys [key value depth on-expand]}]\n  (let [can-expand? (inspectable? value)\n        indent (* depth 16)]\n    [:div.field-row {:style {:padding-left (str indent \"px\")}}\n     [:span.field-key (str (name key))]\n     [:span.field-sep \": \"]\n     (if can-expand?\n       [:button.field-value.expandable\n        {:on-click #(when on-expand (on-expand key value))}\n        [format-value value]\n        [:span.expand-hint \" \u25b6\"]]\n       [:span.field-value [format-value value]])]))\n\n(defn map-fields\n  \"Render all fields of a map.\"\n  [{:keys [data depth on-select max-fields]\n    :or {depth 0 max-fields 50}}]\n  (let [entries (take max-fields (seq data))\n        remaining (- (count data) max-fields)]\n    [:div.map-fields\n     (for [[k v] entries]\n       ^{:key (str k)}\n       [field-row {:key k\n                   :value v\n                   :depth depth\n                   :on-expand (fn [k v]\n                                (when on-select\n                                  (on-select {:type (cond\n                                                      (map? v) :map\n                                                      (vector? v) :vector\n                                                      :else :value)\n                                              :key k\n                                              :data v})))}])\n     (when (pos? remaining)\n       [:div.truncated {:style {:padding-left (str (* depth 16) \"px\")}}\n        (str \"... and \" remaining \" more fields\")])]))\n\n;; =============================================================================\n;; Type-Specific Inspectors\n;; =============================================================================\n\n(defmulti inspect-object\n  \"Render inspector content based on selection type.\"\n  (fn [selection] (:type selection)))\n\n(defmethod inspect-object :process\n  [{:keys [data]}]\n  [:div.inspector-content\n   [:div.inspector-header\n    [:h3.object-type \"Process\"]\n    [:h2.object-title (:name data)]\n    [:div.object-id \"PID: \" (:pid data)]]\n\n   [:div.inspector-section\n    [:h4 \"Overview\"]\n    [:div.overview-grid\n     [:div.overview-item\n      [:span.label \"CPU\"]\n      [:span.value (.toFixed (:cpu-percent data) 1) \"%\"]]\n     [:div.overview-item\n      [:span.label \"Memory\"]\n      [:span.value (int (/ (:memory-bytes data) 1024 1024)) \" MB\"]]\n     [:div.overview-item\n      [:span.label \"Threads\"]\n      [:span.value (:threads data)]]\n     [:div.overview-item\n      [:span.label \"State\"]\n      [:span.value (str (:state data))]]]]\n\n   [:div.inspector-section\n    [:h4 \"All Fields\"]\n    [map-fields {:data data}]]\n\n   [:div.inspector-section\n    [:h4 \"Actions\"]\n    [:div.action-buttons\n     [:button.action-btn \"View Memory Regions\"]\n     [:button.action-btn \"View Cache Behavior\"]\n     [:button.action-btn \"View I/O Activity\"]\n     [:button.action-btn \"Attach Trace\"]]]])\n\n(defmethod inspect-object :cache-line\n  [{:keys [data]}]\n  [:div.inspector-content\n   [:div.inspector-header\n    [:h3.object-type \"Cache Line\"]\n    [:h2.object-title (str \"0x\" (.toString (:tag data) 16))]\n    [:div.object-id \"Set \" (:set-index data) \", Way \" (:way-index data)]]\n\n   [:div.inspector-section\n    [:h4 \"State\"]\n    [:div.cache-line-state\n     [:span.mesi-badge {:class (name (:state data))}\n      (str/upper-case (name (:state data)))]\n     [:span.lru \"LRU: \" (:lru-position data)]]]\n\n   [:div.inspector-section\n    [:h4 \"Data (64 bytes)\"]\n    [:div.hex-view\n     ;; Would render hex dump here\n     [:pre.hex-dump \"00 01 02 03 04 05 06 07  08 09 0A 0B 0C 0D 0E 0F\\n10 11 12 13 14 15 16 17  18 19 1A 1B 1C 1D 1E 1F\\n...\"]]]\n\n   [:div.inspector-section\n    [:h4 \"Actions\"]\n    [:div.action-buttons\n     [:button.action-btn \"View in RAM\"]\n     [:button.action-btn \"Track Accesses\"]\n     [:button.action-btn \"Decode as Instructions\"]]]])\n\n(defmethod inspect-object :map\n  [{:keys [key data]}]\n  [:div.inspector-content\n   [:div.inspector-header\n    [:h3.object-type \"Map\"]\n    [:h2.object-title (str key)]\n    [:div.object-id (count data) \" keys\"]]\n\n   [:div.inspector-section\n    [:h4 \"Fields\"]\n    [map-fields {:data data}]]])\n\n(defmethod inspect-object :vector\n  [{:keys [key data]}]\n  [:div.inspector-content\n   [:div.inspector-header\n    [:h3.object-type \"Vector\"]\n    [:h2.object-title (str key)]\n    [:div.object-id (count data) \" items\"]]\n\n   [:div.inspector-section\n    [:h4 \"Items\"]\n    [:div.vector-items\n     (for [[idx item] (take 100 (map-indexed vector data))]\n       ^{:key idx}\n       [:div.vector-item\n        [:span.index idx]\n        [:span.value [format-value item]]])]]])\n\n(defmethod inspect-object :default\n  [{:keys [type data]}]\n  [:div.inspector-content\n   [:div.inspector-header\n    [:h3.object-type (str type)]\n    [:h2.object-title \"Object\"]]\n\n   [:div.inspector-section\n    [:h4 \"Data\"]\n    [:pre.raw-data (pr-str data)]]])\n\n;; =============================================================================\n;; Inspector Panel\n;; =============================================================================\n\n(defn inspector-panel\n  \"The main inspector panel - slides in from the right.\"\n  []\n  (let [selection @(rf/subscribe [::state/selection])]\n    [:aside.inspector-panel\n     [:div.inspector-toolbar\n      [:button.close-btn\n       {:on-click #(rf/dispatch [::state/toggle-inspector])}\n       \"\u2715\"]\n      [:button.back-btn\n       {:on-click #(rf/dispatch [::state/drill-up])}\n       \"\u2190 Back\"]\n      [:span.toolbar-title \"Inspector\"]]\n\n     (if selection\n       [inspect-object selection]\n       [:div.no-selection\n        [:p \"Click any object to inspect it.\"]\n        [:p.hint \"Processes, cache lines, memory regions - everything is explorable.\"]])]))\n"]}